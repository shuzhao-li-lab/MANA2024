# Module 1 - Visualization of Mass Spectrometry Data

## Terminology, the metDataModel, and an overview of MS pre-processing

The jargon and terminology used by computational metabolomics software is often both domain and tool-specific. Towards this end we have introduced the metDataModel, which seeks to provide reusable data structures and consistent terminology in the field. Full details are provided here: https://github.com/shuzhao-li-lab/metDataModel.

Mass spectrometry data is typically provided in a vendor specific format (e.g., .raw for Thermo) that first must be converted into an open format for processing. For Asari tools that format is mzML and conversion can be done using various software tools described in ______. 

Each acquisition is collected on a sample and there can be multiple acquisitions per sample. Each acquisition is a series of mass spectra collected at a given polling frequency, meaning that the series of spectra are arranged with respect to time. For techniques that employ some form of chromatographic separation, this spectral time domain corresponds to chromatographic retention time and each mass spectrum is reprsentative of the compounds eluting from the column at that given retention time. Each mass spectrum is a collection of peaks with a reported mass-to-charge value (mz) and a reported intensity value which is representative of the relative abundance of the ion in the detector. 

Throughout the course of an experiment, the elution profile and retention times for the metabolites may change as the instrument is used, the column degrades, and the tune of the mass spectrometer decays. Larger differences can be introduced due to maintanence, batches of reagents, etc. To account for this, Asari (and many other tools) perform an alignment step to identify the "same" peak across the samples in an experiment. Whereas other tools attempt to align retention time and mz at the same time, Asari performs mz alignment first then retention time alignment. Thus, through alignment, individual sample peaks become features that can be compared between or across samples.

The conversion of acquisition data to feature tables is referred to as pre-processing the Asari ecosystem. Later steps, including annotation and statistical testing will be discussed in Module 2 and 3. 

## Batch Processing with Asari

Asari is the tool introduced by the Shuzhao Li laboratory for pre-processing LC-MS data. Asari takes acquisition data and returns feature tables summarizing the detected ions in the samples. Other tools in the Asari ecosystem, take these tables to perform various analyses. 

In notebook 1.1, we will use Asari to process an example dataset and yield an annotation table and a feature table. This processing is sufficient for many studies but is also the starting point for more complex analyses. 

## Visualizing Mass Spectrometry Data

Seeing is believing; however, visualizing mass spectrometry data outside of vendor software can be difficult. The data structures generated by Asari can be re-used for visualization of data. 

In notebook 1.2, we will use various python toolkits with Asari to visualize MS data.